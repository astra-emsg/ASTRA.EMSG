{"version":3,"sources":["kendo.list.js"],"names":["f","define","$","undefined","unifyType","value","type","mapChangedItems","selected","itemsToMatch","dataItem","found","i","j","itemsLength","length","selectedLength","changed","unchanged","push","index","item","removeFiltersForField","expression","field","filters","grep","filter","STATIC_LIST_NS","StaticList","kendo","window","ui","Widget","keys","support","htmlEncode","activeElement","_activeElement","ObservableArray","data","ID","CHANGE","FOCUSED","HOVER","LOADING","OPEN","CLOSE","CASCADE","SELECT","SELECTED","REQUESTSTART","REQUESTEND","WIDTH","extend","proxy","isArray","browser","isIE8","msie","version","quotRegExp","alternativeNames","ComboBox","DropDownList","List","DataBoundWidget","init","element","options","id","that","this","ns","fn","call","_isSelect","is","dataSource","dataTextField","dataValueField","ul","attr","tabIndex","aria-hidden","list","append","on","_listMousedown","_header","_accessors","_initValue","valuePrimitive","headerTemplate","setOptions","enable","enabled","focus","_focused","readonly","_editable","disable","_listOptions","currentOptions","virtual","listBoundHandler","_listBound","autoBind","selectable","click","_click","change","_listChange","activate","_activateItem","deactivate","_deactivateItem","dataBinding","trigger","dataBound","height","groupTemplate","fixedGroupTemplate","template","expr","$angular","_initList","listOptions","selectedItemChange","listView","VirtualList","bind","_setListValue","done","_updateSelectionState","noop","e","filterInput","target","preventDefault","_isFilterEnabled","_clearFilter","bound","_filterSource","force","removed","logic","_cascading","setDSFilter","read","_mergeState","header","isFunction","prepend","prev","angular","elements","val","_accessor","_old","_ignoreCase","model","reader","fields","ignoreCase","_focus","candidate","current","items","children","destroy","_unbindDataSource","off","popup","_form","_resetHandler","selectedDataItems","getByUid","flatView","add","removeAttr","getter","textField","valueField","_text","_value","_aria","suggest","_blur","_change","close","selectedIndex","optionValue","_oldIndex","_typing","typing","_data","view","_enable","disabled","_dataValue","_offsetHeight","offsetHeight","siblings","content","prevAll","each","hasClass","outerHeight","_height","offsetTop","popups","visible","parent","show","hide","scrollHeight","_adjustListWidth","computedStyle","computedWidth","width","style","wrapper","getComputedStyle","parseFloat","outerWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","css","fontFamily","_openHandler","_closeHandler","_focusItem","focusedItem","select","highlightFirst","scrollToIndex","_calculateGroupPadding","li","groupHeader","padding","display","scrollbar","_calculatePopupHeight","_resizePopup","one","_popup","Popup","anchor","open","animation","isRtl","_makeUnselectable","find","not","_toggleHover","currentTarget","toggleClass","_toggle","preventFocus","touchEnabled","mobileOS","touch","MSPointers","pointers","_prevent","_triggerCascade","_cascadeTriggered","userTriggered","_userTriggered","_triggerChange","_valueBeforeCascade","unbind","_requestStartHandler","_requestEndHandler","_errorHandler","inArray","node","parentNode","idx","Select","_initial","setDataSource","_dataSource","_initialIndex","fetch","_parentWidget","_cascadeSelect","_select","search","word","text","clearTimeout","_typingTimeout","minLength","_state","_open","toLowerCase","operator","_filter","_accessorInput","_accessorSelect","option","removeAttribute","_custom","setAttribute","custom","_customOption","_hideBusy","_busy","_arrow","removeClass","_showBusy","_request","setTimeout","addClass","_requestEnd","DataSource","create","_firstItem","focusFirst","_lastItem","focusLast","_nextItem","focusNext","_prevItem","focusPrev","_move","pressed","activeFilter","key","keyCode","down","DOWN","UP","altKey","toggle","_fetch","ENTER","TAB","input","_focusElement","focusout","ESC","_fetchData","hasItems","cascadeFrom","_options","optionLabel","dataText","dataValue","indexOf","replace","html","_reset","formId","form","closest","name","parentElement","_cascade","cascade","_cascadeHandlerProxy","_cascadeHandler","_selectedValue","first","_toggleCascadeOnFocus","valueBeforeCascade","_clearSelection","_cascadeChange","expressions","handler","filterValue","cascadeFromField","wrap","before","_optionID","guid","_selectedIndices","_view","_dataItems","_values","slice","_getter","_templates","_onScroll","_scrollId","_renderHeader","events","source","_refreshHandler","refresh","_fixedHeader","skip","_render","scroll","itemOffsetTop","itemOffsetHeight","contentScrollTop","scrollTop","contentOffsetHeight","clientHeight","bottomDistance","dataItems","_getValues","_valueGetter","map","next","hasCandidate","_current","_get","focusIndex","skipUpdate","_skipUpdate","indices","result","filtered","singleSelection","selectedIndices","added","isFiltered","_deselectFiltered","_deselect","_valueComparer","removeAt","position","splice","setValue","deferred","_valueDeferred","state","Deferred","_valueIndices","resolve","isDefaultPrevented","_valueExpr","values","body","comparer","normalized","_valueType","Function","_dataItemPosition","valueExpr","removedIndices","_template","useWithBlock","templates","_normalizeIndices","newIndices","_firstVisibleItem","itemHeight","itemIndex","Math","floor","lastChild","forward","nextSibling","previousSibling","isGrouped","visibleItem","group","_renderItem","context","notFirstItem","newGroup","dataContext","_selected","innerHTML","_lastDSFilter","Query","compareFilters","action","skipUpdateOnBind","isItemChange","_angularItems","_bound","plugin","jQuery","amd","a1","a2","a3"],"mappings":"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","file":"kendo.list.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.list', [\n        'kendo.data',\n        'kendo.popup'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'list',\n        name: 'List',\n        category: 'framework',\n        depends: [\n            'data',\n            'popup'\n        ],\n        hidden: true\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, Widget = ui.Widget, keys = kendo.keys, support = kendo.support, htmlEncode = kendo.htmlEncode, activeElement = kendo._activeElement, ObservableArray = kendo.data.ObservableArray, ID = 'id', CHANGE = 'change', FOCUSED = 'k-state-focused', HOVER = 'k-state-hover', LOADING = 'k-loading', OPEN = 'open', CLOSE = 'close', CASCADE = 'cascade', SELECT = 'select', SELECTED = 'selected', REQUESTSTART = 'requestStart', REQUESTEND = 'requestEnd', WIDTH = 'width', extend = $.extend, proxy = $.proxy, isArray = $.isArray, browser = support.browser, isIE8 = browser.msie && browser.version < 9, quotRegExp = /\"/g, alternativeNames = {\n                'ComboBox': 'DropDownList',\n                'DropDownList': 'ComboBox'\n            };\n        var List = kendo.ui.DataBoundWidget.extend({\n            init: function (element, options) {\n                var that = this, ns = that.ns, id;\n                Widget.fn.init.call(that, element, options);\n                element = that.element;\n                options = that.options;\n                that._isSelect = element.is(SELECT);\n                if (that._isSelect && that.element[0].length) {\n                    if (!options.dataSource) {\n                        options.dataTextField = options.dataTextField || 'text';\n                        options.dataValueField = options.dataValueField || 'value';\n                    }\n                }\n                that.ul = $('<ul unselectable=\"on\" class=\"k-list k-reset\"/>').attr({\n                    tabIndex: -1,\n                    'aria-hidden': true\n                });\n                that.list = $('<div class=\\'k-list-container\\'/>').append(that.ul).on('mousedown' + ns, proxy(that._listMousedown, that));\n                id = element.attr(ID);\n                if (id) {\n                    that.list.attr(ID, id + '-list');\n                    that.ul.attr(ID, id + '_listbox');\n                }\n                that._header();\n                that._accessors();\n                that._initValue();\n            },\n            options: {\n                valuePrimitive: false,\n                headerTemplate: ''\n            },\n            setOptions: function (options) {\n                Widget.fn.setOptions.call(this, options);\n                if (options && options.enable !== undefined) {\n                    options.enabled = options.enable;\n                }\n            },\n            focus: function () {\n                this._focused.focus();\n            },\n            readonly: function (readonly) {\n                this._editable({\n                    readonly: readonly === undefined ? true : readonly,\n                    disable: false\n                });\n            },\n            enable: function (enable) {\n                this._editable({\n                    readonly: false,\n                    disable: !(enable = enable === undefined ? true : enable)\n                });\n            },\n            _listOptions: function (options) {\n                var that = this;\n                var currentOptions = that.options;\n                var virtual = currentOptions.virtual;\n                var listBoundHandler = proxy(that._listBound, that);\n                virtual = typeof virtual === 'object' ? virtual : {};\n                options = $.extend({\n                    autoBind: false,\n                    selectable: true,\n                    dataSource: that.dataSource,\n                    click: proxy(that._click, that),\n                    change: proxy(that._listChange, that),\n                    activate: proxy(that._activateItem, that),\n                    deactivate: proxy(that._deactivateItem, that),\n                    dataBinding: function () {\n                        that.trigger('dataBinding');\n                    },\n                    dataBound: listBoundHandler,\n                    height: currentOptions.height,\n                    dataValueField: currentOptions.dataValueField,\n                    dataTextField: currentOptions.dataTextField,\n                    groupTemplate: currentOptions.groupTemplate,\n                    fixedGroupTemplate: currentOptions.fixedGroupTemplate,\n                    template: currentOptions.template\n                }, options, virtual);\n                if (!options.template) {\n                    options.template = '#:' + kendo.expr(options.dataTextField, 'data') + '#';\n                }\n                if (currentOptions.$angular) {\n                    options.$angular = currentOptions.$angular;\n                }\n                return options;\n            },\n            _initList: function () {\n                var that = this;\n                var listOptions = that._listOptions({ selectedItemChange: proxy(that._listChange, that) });\n                if (!that.options.virtual) {\n                    that.listView = new kendo.ui.StaticList(that.ul, listOptions);\n                } else {\n                    that.listView = new kendo.ui.VirtualList(that.ul, listOptions);\n                }\n                that.listView.bind('listBound', proxy(that._listBound, that));\n                that._setListValue();\n            },\n            _setListValue: function (value) {\n                value = value || this.options.value;\n                if (value !== undefined) {\n                    this.listView.value(value).done(proxy(this._updateSelectionState, this));\n                }\n            },\n            _updateSelectionState: $.noop,\n            _listMousedown: function (e) {\n                if (!this.filterInput || this.filterInput[0] !== e.target) {\n                    e.preventDefault();\n                }\n            },\n            _isFilterEnabled: function () {\n                var filter = this.options.filter;\n                return filter && filter !== 'none';\n            },\n            _clearFilter: function () {\n                if (!this.options.virtual) {\n                    this.listView.bound(false);\n                }\n                this._filterSource();\n            },\n            _filterSource: function (filter, force) {\n                var that = this;\n                var options = that.options;\n                var dataSource = that.dataSource;\n                var expression = extend({}, dataSource.filter() || {});\n                var removed = removeFiltersForField(expression, options.dataTextField);\n                if ((filter || removed) && that.trigger('filtering', { filter: filter })) {\n                    return;\n                }\n                expression = {\n                    filters: expression.filters || [],\n                    logic: 'and'\n                };\n                if (filter) {\n                    expression.filters.push(filter);\n                }\n                if (that._cascading) {\n                    this.listView.setDSFilter(expression);\n                }\n                if (!force) {\n                    dataSource.filter(expression);\n                } else {\n                    dataSource.read(dataSource._mergeState({ filter: expression }));\n                }\n            },\n            _header: function () {\n                var that = this;\n                var template = that.options.headerTemplate;\n                var header;\n                if ($.isFunction(template)) {\n                    template = template({});\n                }\n                if (template) {\n                    that.list.prepend(template);\n                    header = that.ul.prev();\n                    that.header = header[0] ? header : null;\n                    if (that.header) {\n                        that.angular('compile', function () {\n                            return { elements: that.header };\n                        });\n                    }\n                }\n            },\n            _initValue: function () {\n                var that = this, value = that.options.value;\n                if (value !== null) {\n                    that.element.val(value);\n                } else {\n                    value = that._accessor();\n                    that.options.value = value;\n                }\n                that._old = value;\n            },\n            _ignoreCase: function () {\n                var that = this, model = that.dataSource.reader.model, field;\n                if (model && model.fields) {\n                    field = model.fields[that.options.dataTextField];\n                    if (field && field.type && field.type !== 'string') {\n                        that.options.ignoreCase = false;\n                    }\n                }\n            },\n            _focus: function (candidate) {\n                return this.listView.focus(candidate);\n            },\n            current: function (candidate) {\n                return this._focus(candidate);\n            },\n            items: function () {\n                return this.ul[0].children;\n            },\n            destroy: function () {\n                var that = this;\n                var ns = that.ns;\n                Widget.fn.destroy.call(that);\n                that._unbindDataSource();\n                that.listView.destroy();\n                that.list.off(ns);\n                that.popup.destroy();\n                if (that._form) {\n                    that._form.off('reset', that._resetHandler);\n                }\n            },\n            dataItem: function (index) {\n                var that = this;\n                if (index === undefined) {\n                    return that.listView.selectedDataItems()[0];\n                }\n                if (typeof index !== 'number') {\n                    if (that.options.virtual) {\n                        return that.dataSource.getByUid($(index).data('uid'));\n                    }\n                    index = $(that.items()).index(index);\n                }\n                return that.dataSource.flatView()[index];\n            },\n            _activateItem: function () {\n                var current = this.listView.focus();\n                if (current) {\n                    this._focused.add(this.filterInput).attr('aria-activedescendant', current.attr('id'));\n                }\n            },\n            _deactivateItem: function () {\n                this._focused.add(this.filterInput).removeAttr('aria-activedescendant');\n            },\n            _accessors: function () {\n                var that = this;\n                var element = that.element;\n                var options = that.options;\n                var getter = kendo.getter;\n                var textField = element.attr(kendo.attr('text-field'));\n                var valueField = element.attr(kendo.attr('value-field'));\n                if (!options.dataTextField && textField) {\n                    options.dataTextField = textField;\n                }\n                if (!options.dataValueField && valueField) {\n                    options.dataValueField = valueField;\n                }\n                that._text = getter(options.dataTextField);\n                that._value = getter(options.dataValueField);\n            },\n            _aria: function (id) {\n                var that = this, options = that.options, element = that._focused.add(that.filterInput);\n                if (options.suggest !== undefined) {\n                    element.attr('aria-autocomplete', options.suggest ? 'both' : 'list');\n                }\n                id = id ? id + ' ' + that.ul[0].id : that.ul[0].id;\n                element.attr('aria-owns', id);\n                that.ul.attr('aria-live', !that._isFilterEnabled() ? 'off' : 'polite');\n            },\n            _blur: function () {\n                var that = this;\n                that._change();\n                that.close();\n            },\n            _change: function () {\n                var that = this;\n                var index = that.selectedIndex;\n                var optionValue = that.options.value;\n                var value = that.value();\n                var trigger;\n                if (that._isSelect && !that.listView.bound() && optionValue) {\n                    value = optionValue;\n                }\n                if (value !== unifyType(that._old, typeof value)) {\n                    trigger = true;\n                } else if (index !== undefined && index !== that._oldIndex) {\n                    trigger = true;\n                }\n                if (trigger) {\n                    that._old = value;\n                    that._oldIndex = index;\n                    if (!that._typing) {\n                        that.element.trigger(CHANGE);\n                    }\n                    that.trigger(CHANGE);\n                }\n                that.typing = false;\n            },\n            _data: function () {\n                return this.dataSource.view();\n            },\n            _enable: function () {\n                var that = this, options = that.options, disabled = that.element.is('[disabled]');\n                if (options.enable !== undefined) {\n                    options.enabled = options.enable;\n                }\n                if (!options.enabled || disabled) {\n                    that.enable(false);\n                } else {\n                    that.readonly(that.element.is('[readonly]'));\n                }\n            },\n            _dataValue: function (dataItem) {\n                var value = this._value(dataItem);\n                if (value === undefined) {\n                    value = this._text(dataItem);\n                }\n                return value;\n            },\n            _offsetHeight: function () {\n                var offsetHeight = 0;\n                var siblings = this.listView.content.prevAll(':visible');\n                siblings.each(function () {\n                    var element = $(this);\n                    if (element.hasClass('k-list-filter')) {\n                        offsetHeight += element.children().outerHeight();\n                    } else {\n                        offsetHeight += element.outerHeight();\n                    }\n                });\n                return offsetHeight;\n            },\n            _height: function (length) {\n                var that = this;\n                var list = that.list;\n                var height = that.options.height;\n                var visible = that.popup.visible();\n                var offsetTop;\n                var popups;\n                if (length) {\n                    popups = list.add(list.parent('.k-animation-container')).show();\n                    if (!list.is(':visible')) {\n                        popups.hide();\n                        return;\n                    }\n                    height = that.listView.content[0].scrollHeight > height ? height : 'auto';\n                    popups.height(height);\n                    if (height !== 'auto') {\n                        offsetTop = that._offsetHeight();\n                        if (offsetTop) {\n                            height -= offsetTop;\n                        }\n                    }\n                    that.listView.content.height(height);\n                    if (!visible) {\n                        popups.hide();\n                    }\n                }\n                return height;\n            },\n            _adjustListWidth: function () {\n                var list = this.list, width = list[0].style.width, wrapper = this.wrapper, computedStyle, computedWidth;\n                if (!list.data(WIDTH) && width) {\n                    return;\n                }\n                computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\n                computedWidth = parseFloat(computedStyle && computedStyle.width) || wrapper.outerWidth();\n                if (computedStyle && browser.msie) {\n                    computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\n                }\n                if (list.css('box-sizing') !== 'border-box') {\n                    width = computedWidth - (list.outerWidth() - list.width());\n                } else {\n                    width = computedWidth;\n                }\n                list.css({\n                    fontFamily: wrapper.css('font-family'),\n                    width: width\n                }).data(WIDTH, width);\n                return true;\n            },\n            _openHandler: function (e) {\n                this._adjustListWidth();\n                if (this.trigger(OPEN)) {\n                    e.preventDefault();\n                } else {\n                    this._focused.attr('aria-expanded', true);\n                    this.ul.attr('aria-hidden', false);\n                }\n            },\n            _closeHandler: function (e) {\n                if (this.trigger(CLOSE)) {\n                    e.preventDefault();\n                } else {\n                    this._focused.attr('aria-expanded', false);\n                    this.ul.attr('aria-hidden', true);\n                }\n            },\n            _focusItem: function () {\n                var listView = this.listView;\n                var focusedItem = listView.focus();\n                var index = listView.select();\n                index = index[index.length - 1];\n                if (index === undefined && this.options.highlightFirst && !focusedItem) {\n                    index = 0;\n                }\n                if (index !== undefined) {\n                    listView.focus(index);\n                } else {\n                    listView.scrollToIndex(0);\n                }\n            },\n            _calculateGroupPadding: function (height) {\n                var li = this.ul.children('.k-first:first');\n                var groupHeader = this.listView.content.prev('.k-group-header');\n                var padding = 0;\n                if (groupHeader[0] && groupHeader[0].style.display !== 'none') {\n                    if (height !== 'auto') {\n                        padding = kendo.support.scrollbar();\n                    }\n                    padding += parseFloat(li.css('border-right-width'), 10) + parseFloat(li.children('.k-group').css('padding-right'), 10);\n                    groupHeader.css('padding-right', padding);\n                }\n            },\n            _calculatePopupHeight: function (force) {\n                var height = this._height(this.dataSource.flatView().length || force);\n                this._calculateGroupPadding(height);\n            },\n            _resizePopup: function (force) {\n                if (this.options.virtual) {\n                    return;\n                }\n                if (!this.popup.element.is(':visible')) {\n                    this.popup.one('open', function (force) {\n                        return proxy(function () {\n                            this._calculatePopupHeight(force);\n                        }, this);\n                    }.call(this, force));\n                } else {\n                    this._calculatePopupHeight(force);\n                }\n            },\n            _popup: function () {\n                var that = this;\n                that.popup = new ui.Popup(that.list, extend({}, that.options.popup, {\n                    anchor: that.wrapper,\n                    open: proxy(that._openHandler, that),\n                    close: proxy(that._closeHandler, that),\n                    animation: that.options.animation,\n                    isRtl: support.isRtl(that.wrapper)\n                }));\n            },\n            _makeUnselectable: function () {\n                if (isIE8) {\n                    this.list.find('*').not('.k-textbox').attr('unselectable', 'on');\n                }\n            },\n            _toggleHover: function (e) {\n                $(e.currentTarget).toggleClass(HOVER, e.type === 'mouseenter');\n            },\n            _toggle: function (open, preventFocus) {\n                var that = this;\n                var touchEnabled = support.mobileOS && (support.touch || support.MSPointers || support.pointers);\n                open = open !== undefined ? open : !that.popup.visible();\n                if (!preventFocus && !touchEnabled && that._focused[0] !== activeElement()) {\n                    that._prevent = true;\n                    that._focused.focus();\n                    that._prevent = false;\n                }\n                that[open ? OPEN : CLOSE]();\n            },\n            _triggerCascade: function () {\n                var that = this;\n                if (!that._cascadeTriggered || that._old !== that.value() || that._oldIndex !== that.selectedIndex) {\n                    that._cascadeTriggered = true;\n                    that.trigger(CASCADE, { userTriggered: that._userTriggered });\n                }\n            },\n            _triggerChange: function () {\n                if (this._valueBeforeCascade !== this.value()) {\n                    this.trigger(CHANGE);\n                }\n            },\n            _unbindDataSource: function () {\n                var that = this;\n                that.dataSource.unbind(REQUESTSTART, that._requestStartHandler).unbind(REQUESTEND, that._requestEndHandler).unbind('error', that._errorHandler);\n            }\n        });\n        function unifyType(value, type) {\n            if (value !== undefined && value !== '' && value !== null) {\n                if (type === 'boolean') {\n                    value = Boolean(value);\n                } else if (type === 'number') {\n                    value = Number(value);\n                } else if (type === 'string') {\n                    value = value.toString();\n                }\n            }\n            return value;\n        }\n        extend(List, {\n            inArray: function (node, parentNode) {\n                var idx, length, siblings = parentNode.children;\n                if (!node || node.parentNode !== parentNode) {\n                    return -1;\n                }\n                for (idx = 0, length = siblings.length; idx < length; idx++) {\n                    if (node === siblings[idx]) {\n                        return idx;\n                    }\n                }\n                return -1;\n            },\n            unifyType: unifyType\n        });\n        kendo.ui.List = List;\n        ui.Select = List.extend({\n            init: function (element, options) {\n                List.fn.init.call(this, element, options);\n                this._initial = this.element.val();\n            },\n            setDataSource: function (dataSource) {\n                var that = this;\n                var parent;\n                that.options.dataSource = dataSource;\n                that._dataSource();\n                if (that.listView.bound()) {\n                    that._initialIndex = null;\n                }\n                that.listView.setDataSource(that.dataSource);\n                if (that.options.autoBind) {\n                    that.dataSource.fetch();\n                }\n                parent = that._parentWidget();\n                if (parent) {\n                    that._cascadeSelect(parent);\n                }\n            },\n            close: function () {\n                this.popup.close();\n            },\n            select: function (candidate) {\n                var that = this;\n                if (candidate === undefined) {\n                    return that.selectedIndex;\n                } else {\n                    that._select(candidate);\n                    that._old = that._accessor();\n                    that._oldIndex = that.selectedIndex;\n                }\n            },\n            search: function (word) {\n                word = typeof word === 'string' ? word : this.text();\n                var that = this;\n                var length = word.length;\n                var options = that.options;\n                var ignoreCase = options.ignoreCase;\n                var field = options.dataTextField;\n                clearTimeout(that._typingTimeout);\n                if (!length || length >= options.minLength) {\n                    that._state = 'filter';\n                    if (!that._isFilterEnabled()) {\n                        that._filter(word);\n                    } else {\n                        that._open = true;\n                        that._filterSource({\n                            value: ignoreCase ? word.toLowerCase() : word,\n                            field: field,\n                            operator: options.filter,\n                            ignoreCase: ignoreCase\n                        });\n                    }\n                }\n            },\n            _accessor: function (value, idx) {\n                return this[this._isSelect ? '_accessorSelect' : '_accessorInput'](value, idx);\n            },\n            _accessorInput: function (value) {\n                var element = this.element[0];\n                if (value === undefined) {\n                    return element.value;\n                } else {\n                    if (value === null) {\n                        value = '';\n                    }\n                    element.value = value;\n                }\n            },\n            _accessorSelect: function (value, idx) {\n                var element = this.element[0];\n                var selectedIndex = element.selectedIndex;\n                var option;\n                if (value === undefined) {\n                    if (selectedIndex > -1) {\n                        option = element.options[selectedIndex];\n                    }\n                    if (option) {\n                        value = option.value;\n                    }\n                    return value || '';\n                } else {\n                    if (selectedIndex > -1) {\n                        element.options[selectedIndex].removeAttribute(SELECTED);\n                        element.options[selectedIndex].selected = false;\n                    }\n                    if (idx === undefined) {\n                        idx = -1;\n                    }\n                    if (value !== null && value !== '' && idx == -1) {\n                        this._custom(value);\n                    } else {\n                        if (value) {\n                            element.value = value;\n                        } else {\n                            element.selectedIndex = idx;\n                        }\n                        if (element.selectedIndex > -1) {\n                            option = element.options[element.selectedIndex];\n                        }\n                        if (option) {\n                            option.setAttribute(SELECTED, SELECTED);\n                        }\n                    }\n                }\n            },\n            _custom: function (value) {\n                var that = this;\n                var element = that.element;\n                var custom = that._customOption;\n                if (!custom) {\n                    custom = $('<option/>');\n                    that._customOption = custom;\n                    element.append(custom);\n                }\n                custom.text(value);\n                custom[0].setAttribute(SELECTED, SELECTED);\n                custom[0].selected = true;\n            },\n            _hideBusy: function () {\n                var that = this;\n                clearTimeout(that._busy);\n                that._arrow.removeClass(LOADING);\n                that._focused.attr('aria-busy', false);\n                that._busy = null;\n            },\n            _showBusy: function () {\n                var that = this;\n                that._request = true;\n                if (that._busy) {\n                    return;\n                }\n                that._busy = setTimeout(function () {\n                    if (that._arrow) {\n                        that._focused.attr('aria-busy', true);\n                        that._arrow.addClass(LOADING);\n                    }\n                }, 100);\n            },\n            _requestEnd: function () {\n                this._request = false;\n                this._hideBusy();\n            },\n            _dataSource: function () {\n                var that = this, element = that.element, options = that.options, dataSource = options.dataSource || {}, idx;\n                dataSource = $.isArray(dataSource) ? { data: dataSource } : dataSource;\n                if (that._isSelect) {\n                    idx = element[0].selectedIndex;\n                    if (idx > -1) {\n                        options.index = idx;\n                    }\n                    dataSource.select = element;\n                    dataSource.fields = [\n                        { field: options.dataTextField },\n                        { field: options.dataValueField }\n                    ];\n                }\n                if (that.dataSource) {\n                    that._unbindDataSource();\n                } else {\n                    that._requestStartHandler = proxy(that._showBusy, that);\n                    that._requestEndHandler = proxy(that._requestEnd, that);\n                    that._errorHandler = proxy(that._hideBusy, that);\n                }\n                that.dataSource = kendo.data.DataSource.create(dataSource).bind(REQUESTSTART, that._requestStartHandler).bind(REQUESTEND, that._requestEndHandler).bind('error', that._errorHandler);\n            },\n            _firstItem: function () {\n                this.listView.focusFirst();\n            },\n            _lastItem: function () {\n                this.listView.focusLast();\n            },\n            _nextItem: function () {\n                this.listView.focusNext();\n            },\n            _prevItem: function () {\n                this.listView.focusPrev();\n            },\n            _move: function (e) {\n                var that = this;\n                var key = e.keyCode;\n                var down = key === keys.DOWN;\n                var dataItem;\n                var pressed;\n                var current;\n                if (key === keys.UP || down) {\n                    if (e.altKey) {\n                        that.toggle(down);\n                    } else {\n                        if (!that.listView.bound()) {\n                            if (!that._fetch) {\n                                that.dataSource.one(CHANGE, function () {\n                                    that._fetch = false;\n                                    that._move(e);\n                                });\n                                that._fetch = true;\n                                that._filterSource();\n                            }\n                            e.preventDefault();\n                            return true;\n                        }\n                        current = that._focus();\n                        if (!that._fetch && (!current || current.hasClass('k-state-selected'))) {\n                            if (down) {\n                                that._nextItem();\n                                if (!that._focus()) {\n                                    that._lastItem();\n                                }\n                            } else {\n                                that._prevItem();\n                                if (!that._focus()) {\n                                    that._firstItem();\n                                }\n                            }\n                        }\n                        if (that.trigger(SELECT, { item: that._focus() })) {\n                            that._focus(current);\n                            return;\n                        }\n                        that._select(that._focus(), true);\n                        if (!that.popup.visible()) {\n                            that._blur();\n                        }\n                    }\n                    e.preventDefault();\n                    pressed = true;\n                } else if (key === keys.ENTER || key === keys.TAB) {\n                    if (that.popup.visible()) {\n                        e.preventDefault();\n                    }\n                    current = that._focus();\n                    dataItem = that.dataItem();\n                    if (!that.popup.visible() && (!dataItem || that.text() !== that._text(dataItem))) {\n                        current = null;\n                    }\n                    var activeFilter = that.filterInput && that.filterInput[0] === activeElement();\n                    if (current) {\n                        if (that.trigger(SELECT, { item: current })) {\n                            return;\n                        }\n                        that._select(current);\n                    } else if (that.input) {\n                        that._accessor(that.input.val());\n                        that.listView.value(that.input.val());\n                    }\n                    if (that._focusElement) {\n                        that._focusElement(that.wrapper);\n                    }\n                    if (activeFilter && key === keys.TAB) {\n                        that.wrapper.focusout();\n                    } else {\n                        that._blur();\n                    }\n                    that.close();\n                    pressed = true;\n                } else if (key === keys.ESC) {\n                    if (that.popup.visible()) {\n                        e.preventDefault();\n                    }\n                    that.close();\n                    pressed = true;\n                }\n                return pressed;\n            },\n            _fetchData: function () {\n                var that = this;\n                var hasItems = !!that.dataSource.view().length;\n                if (that._request || that.options.cascadeFrom) {\n                    return;\n                }\n                if (!that.listView.bound() && !that._fetch && !hasItems) {\n                    that._fetch = true;\n                    that.dataSource.fetch().done(function () {\n                        that._fetch = false;\n                    });\n                }\n            },\n            _options: function (data, optionLabel, value) {\n                var that = this, element = that.element, length = data.length, options = '', option, dataItem, dataText, dataValue, idx = 0;\n                if (optionLabel) {\n                    options = optionLabel;\n                }\n                for (; idx < length; idx++) {\n                    option = '<option';\n                    dataItem = data[idx];\n                    dataText = that._text(dataItem);\n                    dataValue = that._value(dataItem);\n                    if (dataValue !== undefined) {\n                        dataValue += '';\n                        if (dataValue.indexOf('\"') !== -1) {\n                            dataValue = dataValue.replace(quotRegExp, '&quot;');\n                        }\n                        option += ' value=\"' + dataValue + '\"';\n                    }\n                    option += '>';\n                    if (dataText !== undefined) {\n                        option += htmlEncode(dataText);\n                    }\n                    option += '</option>';\n                    options += option;\n                }\n                element.html(options);\n                if (value !== undefined) {\n                    element[0].value = value;\n                    if (element[0].value && !value) {\n                        element[0].selectedIndex = -1;\n                    }\n                }\n            },\n            _reset: function () {\n                var that = this, element = that.element, formId = element.attr('form'), form = formId ? $('#' + formId) : element.closest('form');\n                if (form[0]) {\n                    that._resetHandler = function () {\n                        setTimeout(function () {\n                            that.value(that._initial);\n                        });\n                    };\n                    that._form = form.on('reset', that._resetHandler);\n                }\n            },\n            _parentWidget: function () {\n                var name = this.options.name;\n                var parentElement = $('#' + this.options.cascadeFrom);\n                var parent = parentElement.data('kendo' + name);\n                if (!parent) {\n                    parent = parentElement.data('kendo' + alternativeNames[name]);\n                }\n                return parent;\n            },\n            _cascade: function () {\n                var that = this;\n                var options = that.options;\n                var cascade = options.cascadeFrom;\n                var parent;\n                if (cascade) {\n                    parent = that._parentWidget();\n                    that._cascadeHandlerProxy = proxy(that._cascadeHandler, that);\n                    if (!parent) {\n                        return;\n                    }\n                    options.autoBind = false;\n                    parent.bind('set', function () {\n                        that.one('set', function (e) {\n                            that._selectedValue = e.value;\n                        });\n                    });\n                    parent.first(CASCADE, that._cascadeHandlerProxy);\n                    if (parent.listView.bound()) {\n                        that._toggleCascadeOnFocus();\n                        that._cascadeSelect(parent);\n                    } else {\n                        parent.one('dataBound', function () {\n                            that._toggleCascadeOnFocus();\n                        });\n                        if (!parent.value()) {\n                            that.enable(false);\n                        }\n                    }\n                }\n            },\n            _toggleCascadeOnFocus: function () {\n                var that = this;\n                var parent = that._parentWidget();\n                parent._focused.add(parent.filterInput).bind('focus', function () {\n                    parent.unbind(CASCADE, that._cascadeHandlerProxy);\n                    parent.first(CHANGE, that._cascadeHandlerProxy);\n                });\n                parent._focused.add(parent.filterInput).bind('focusout', function () {\n                    parent.unbind(CHANGE, that._cascadeHandlerProxy);\n                    parent.first(CASCADE, that._cascadeHandlerProxy);\n                });\n            },\n            _cascadeHandler: function (e) {\n                var parent = this._parentWidget();\n                var valueBeforeCascade = this.value();\n                this._userTriggered = e.userTriggered;\n                if (this.listView.bound()) {\n                    this._clearSelection(parent, true);\n                }\n                this._cascadeSelect(parent, valueBeforeCascade);\n            },\n            _cascadeChange: function (parent) {\n                var that = this;\n                var value = that._accessor() || that._selectedValue;\n                that._selectedValue = null;\n                if (that._userTriggered) {\n                    that._clearSelection(parent, true);\n                } else if (value) {\n                    if (value !== that.listView.value()[0]) {\n                        that.value(value);\n                    }\n                    if (!that.dataSource.view()[0] || that.selectedIndex === -1) {\n                        that._clearSelection(parent, true);\n                    }\n                } else if (that.dataSource.flatView().length) {\n                    that.select(that.options.index);\n                }\n                that.enable();\n                that._triggerCascade();\n                that._triggerChange();\n                that._userTriggered = false;\n            },\n            _cascadeSelect: function (parent, valueBeforeCascade) {\n                var that = this;\n                var dataItem = parent.dataItem();\n                var filterValue = dataItem ? parent._value(dataItem) : null;\n                var valueField = that.options.cascadeFromField || parent.options.dataValueField;\n                var expressions;\n                that._valueBeforeCascade = valueBeforeCascade !== undefined ? valueBeforeCascade : that.value();\n                if (filterValue || filterValue === 0) {\n                    expressions = that.dataSource.filter() || {};\n                    removeFiltersForField(expressions, valueField);\n                    var handler = function () {\n                        that.unbind('dataBound', handler);\n                        that._cascadeChange(parent);\n                    };\n                    that.first('dataBound', handler);\n                    that._cascading = true;\n                    that._filterSource({\n                        field: valueField,\n                        operator: 'eq',\n                        value: filterValue\n                    });\n                    that._cascading = false;\n                } else {\n                    that.enable(false);\n                    that._clearSelection(parent);\n                    that._triggerCascade();\n                    that._triggerChange();\n                    that._userTriggered = false;\n                }\n            }\n        });\n        var STATIC_LIST_NS = '.StaticList';\n        var StaticList = kendo.ui.DataBoundWidget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this.element.attr('role', 'listbox').on('click' + STATIC_LIST_NS, 'li', proxy(this._click, this)).on('mouseenter' + STATIC_LIST_NS, 'li', function () {\n                    $(this).addClass(HOVER);\n                }).on('mouseleave' + STATIC_LIST_NS, 'li', function () {\n                    $(this).removeClass(HOVER);\n                });\n                this.content = this.element.wrap('<div class=\\'k-list-scroller\\' unselectable=\\'on\\'></div>').parent();\n                this.header = this.content.before('<div class=\"k-group-header\" style=\"display:none\"></div>').prev();\n                this.bound(false);\n                this._optionID = kendo.guid();\n                this._selectedIndices = [];\n                this._view = [];\n                this._dataItems = [];\n                this._values = [];\n                var value = this.options.value;\n                if (value) {\n                    this._values = $.isArray(value) ? value.slice(0) : [value];\n                }\n                this._getter();\n                this._templates();\n                this.setDataSource(this.options.dataSource);\n                this._onScroll = proxy(function () {\n                    var that = this;\n                    clearTimeout(that._scrollId);\n                    that._scrollId = setTimeout(function () {\n                        that._renderHeader();\n                    }, 50);\n                }, this);\n            },\n            options: {\n                name: 'StaticList',\n                dataValueField: null,\n                valuePrimitive: false,\n                selectable: true,\n                template: null,\n                groupTemplate: null,\n                fixedGroupTemplate: null\n            },\n            events: [\n                'click',\n                CHANGE,\n                'activate',\n                'deactivate',\n                'dataBinding',\n                'dataBound',\n                'selectedItemChange'\n            ],\n            setDataSource: function (source) {\n                var that = this;\n                var dataSource = source || {};\n                var value;\n                dataSource = $.isArray(dataSource) ? { data: dataSource } : dataSource;\n                dataSource = kendo.data.DataSource.create(dataSource);\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler);\n                    value = that.value();\n                    that.value([]);\n                    that.bound(false);\n                    that.value(value);\n                } else {\n                    that._refreshHandler = proxy(that.refresh, that);\n                }\n                that.setDSFilter(dataSource.filter());\n                that.dataSource = dataSource.bind(CHANGE, that._refreshHandler);\n                that._fixedHeader();\n            },\n            skip: function () {\n                return this.dataSource.skip();\n            },\n            setOptions: function (options) {\n                Widget.fn.setOptions.call(this, options);\n                this._getter();\n                this._templates();\n                this._render();\n            },\n            destroy: function () {\n                this.element.off(STATIC_LIST_NS);\n                if (this._refreshHandler) {\n                    this.dataSource.unbind(CHANGE, this._refreshHandler);\n                }\n                clearTimeout(this._scrollId);\n                Widget.fn.destroy.call(this);\n            },\n            scrollToIndex: function (index) {\n                var item = this.element[0].children[index];\n                if (item) {\n                    this.scroll(item);\n                }\n            },\n            scroll: function (item) {\n                if (!item) {\n                    return;\n                }\n                if (item[0]) {\n                    item = item[0];\n                }\n                var content = this.content[0], itemOffsetTop = item.offsetTop, itemOffsetHeight = item.offsetHeight, contentScrollTop = content.scrollTop, contentOffsetHeight = content.clientHeight, bottomDistance = itemOffsetTop + itemOffsetHeight;\n                if (contentScrollTop > itemOffsetTop) {\n                    contentScrollTop = itemOffsetTop;\n                } else if (bottomDistance > contentScrollTop + contentOffsetHeight) {\n                    contentScrollTop = bottomDistance - contentOffsetHeight;\n                }\n                content.scrollTop = contentScrollTop;\n            },\n            selectedDataItems: function (dataItems) {\n                if (dataItems === undefined) {\n                    return this._dataItems.slice();\n                }\n                this._dataItems = dataItems;\n                this._values = this._getValues(dataItems);\n            },\n            _getValues: function (dataItems) {\n                var getter = this._valueGetter;\n                return $.map(dataItems, function (dataItem) {\n                    return getter(dataItem);\n                });\n            },\n            focusNext: function () {\n                var current = this.focus();\n                if (!current) {\n                    current = 0;\n                } else {\n                    current = current.next();\n                }\n                this.focus(current);\n            },\n            focusPrev: function () {\n                var current = this.focus();\n                if (!current) {\n                    current = this.element[0].children.length - 1;\n                } else {\n                    current = current.prev();\n                }\n                this.focus(current);\n            },\n            focusFirst: function () {\n                this.focus(this.element[0].children[0]);\n            },\n            focusLast: function () {\n                this.focus(this.element[0].children[this.element[0].children.length - 1]);\n            },\n            focus: function (candidate) {\n                var that = this;\n                var id = that._optionID;\n                var hasCandidate;\n                if (candidate === undefined) {\n                    return that._current;\n                }\n                candidate = that._get(candidate);\n                candidate = candidate[candidate.length - 1];\n                candidate = $(this.element[0].children[candidate]);\n                if (that._current) {\n                    that._current.removeClass(FOCUSED).removeAttr('aria-selected').removeAttr(ID);\n                    that.trigger('deactivate');\n                }\n                hasCandidate = !!candidate[0];\n                if (hasCandidate) {\n                    candidate.addClass(FOCUSED);\n                    that.scroll(candidate);\n                    candidate.attr('id', id);\n                }\n                that._current = hasCandidate ? candidate : null;\n                that.trigger('activate');\n            },\n            focusIndex: function () {\n                return this.focus() ? this.focus().index() : undefined;\n            },\n            skipUpdate: function (skipUpdate) {\n                this._skipUpdate = skipUpdate;\n            },\n            select: function (indices) {\n                var that = this;\n                var selectable = that.options.selectable;\n                var singleSelection = selectable !== 'multiple' && selectable !== false;\n                var selectedIndices = that._selectedIndices;\n                var added = [];\n                var removed = [];\n                var result;\n                if (indices === undefined) {\n                    return selectedIndices.slice();\n                }\n                indices = that._get(indices);\n                if (indices.length === 1 && indices[0] === -1) {\n                    indices = [];\n                }\n                var filtered = that.isFiltered();\n                if (filtered && !singleSelection && that._deselectFiltered(indices)) {\n                    return;\n                }\n                if (singleSelection && !filtered && $.inArray(indices[indices.length - 1], selectedIndices) !== -1) {\n                    if (that._dataItems.length && that._view.length) {\n                        that._dataItems = [that._view[selectedIndices[0]].item];\n                    }\n                    return;\n                }\n                result = that._deselect(indices);\n                removed = result.removed;\n                indices = result.indices;\n                if (indices.length) {\n                    if (singleSelection) {\n                        indices = [indices[indices.length - 1]];\n                    }\n                    added = that._select(indices);\n                }\n                if (added.length || removed.length) {\n                    that._valueComparer = null;\n                    that.trigger(CHANGE, {\n                        added: added,\n                        removed: removed\n                    });\n                }\n            },\n            removeAt: function (position) {\n                this._selectedIndices.splice(position, 1);\n                this._values.splice(position, 1);\n                this._valueComparer = null;\n                return {\n                    position: position,\n                    dataItem: this._dataItems.splice(position, 1)[0]\n                };\n            },\n            setValue: function (value) {\n                value = $.isArray(value) || value instanceof ObservableArray ? value.slice(0) : [value];\n                this._values = value;\n                this._valueComparer = null;\n            },\n            value: function (value) {\n                var that = this;\n                var deferred = that._valueDeferred;\n                var indices;\n                if (value === undefined) {\n                    return that._values.slice();\n                }\n                that.setValue(value);\n                if (!deferred || deferred.state() === 'resolved') {\n                    that._valueDeferred = deferred = $.Deferred();\n                }\n                if (that.bound()) {\n                    indices = that._valueIndices(that._values);\n                    if (that.options.selectable === 'multiple') {\n                        that.select(-1);\n                    }\n                    that.select(indices);\n                    deferred.resolve();\n                }\n                that._skipUpdate = false;\n                return deferred;\n            },\n            items: function () {\n                return this.element.children('.k-item');\n            },\n            _click: function (e) {\n                if (!e.isDefaultPrevented()) {\n                    if (!this.trigger('click', { item: $(e.currentTarget) })) {\n                        this.select(e.currentTarget);\n                    }\n                }\n            },\n            _valueExpr: function (type, values) {\n                var that = this;\n                var idx = 0;\n                var body;\n                var comparer;\n                var normalized = [];\n                if (!that._valueComparer || that._valueType !== type) {\n                    that._valueType = type;\n                    for (; idx < values.length; idx++) {\n                        normalized.push(unifyType(values[idx], type));\n                    }\n                    body = 'for (var idx = 0; idx < ' + normalized.length + '; idx++) {' + ' if (current === values[idx]) {' + '   return idx;' + ' }' + '} ' + 'return -1;';\n                    comparer = new Function('current', 'values', body);\n                    that._valueComparer = function (current) {\n                        return comparer(current, normalized);\n                    };\n                }\n                return that._valueComparer;\n            },\n            _dataItemPosition: function (dataItem, values) {\n                var value = this._valueGetter(dataItem);\n                var valueExpr = this._valueExpr(typeof value, values);\n                return valueExpr(value);\n            },\n            _getter: function () {\n                this._valueGetter = kendo.getter(this.options.dataValueField);\n            },\n            _deselect: function (indices) {\n                var that = this;\n                var children = that.element[0].children;\n                var selectable = that.options.selectable;\n                var selectedIndices = that._selectedIndices;\n                var dataItems = that._dataItems;\n                var values = that._values;\n                var removed = [];\n                var i = 0;\n                var j;\n                var index, selectedIndex;\n                var removedIndices = 0;\n                indices = indices.slice();\n                if (selectable === true || !indices.length) {\n                    for (; i < selectedIndices.length; i++) {\n                        $(children[selectedIndices[i]]).removeClass('k-state-selected');\n                        removed.push({\n                            position: i,\n                            dataItem: dataItems[i]\n                        });\n                    }\n                    that._values = [];\n                    that._dataItems = [];\n                    that._selectedIndices = [];\n                } else if (selectable === 'multiple') {\n                    for (; i < indices.length; i++) {\n                        index = indices[i];\n                        if (!$(children[index]).hasClass('k-state-selected')) {\n                            continue;\n                        }\n                        for (j = 0; j < selectedIndices.length; j++) {\n                            selectedIndex = selectedIndices[j];\n                            if (selectedIndex === index) {\n                                $(children[selectedIndex]).removeClass('k-state-selected');\n                                removed.push({\n                                    position: j + removedIndices,\n                                    dataItem: dataItems.splice(j, 1)[0]\n                                });\n                                selectedIndices.splice(j, 1);\n                                indices.splice(i, 1);\n                                values.splice(j, 1);\n                                removedIndices += 1;\n                                i -= 1;\n                                j -= 1;\n                                break;\n                            }\n                        }\n                    }\n                }\n                return {\n                    indices: indices,\n                    removed: removed\n                };\n            },\n            _deselectFiltered: function (indices) {\n                var children = this.element[0].children;\n                var dataItem, index, position;\n                var removed = [];\n                var idx = 0;\n                for (; idx < indices.length; idx++) {\n                    index = indices[idx];\n                    dataItem = this._view[index].item;\n                    position = this._dataItemPosition(dataItem, this._values);\n                    if (position > -1) {\n                        removed.push(this.removeAt(position));\n                        $(children[index]).removeClass('k-state-selected');\n                    }\n                }\n                if (removed.length) {\n                    this.trigger(CHANGE, {\n                        added: [],\n                        removed: removed\n                    });\n                    return true;\n                }\n                return false;\n            },\n            _select: function (indices) {\n                var that = this;\n                var children = that.element[0].children;\n                var data = that._view;\n                var dataItem, index;\n                var added = [];\n                var idx = 0;\n                if (indices[indices.length - 1] !== -1) {\n                    that.focus(indices);\n                }\n                for (; idx < indices.length; idx++) {\n                    index = indices[idx];\n                    dataItem = data[index];\n                    if (index === -1 || !dataItem) {\n                        continue;\n                    }\n                    dataItem = dataItem.item;\n                    that._selectedIndices.push(index);\n                    that._dataItems.push(dataItem);\n                    that._values.push(that._valueGetter(dataItem));\n                    $(children[index]).addClass('k-state-selected').attr('aria-selected', true);\n                    added.push({ dataItem: dataItem });\n                }\n                return added;\n            },\n            _get: function (candidate) {\n                if (typeof candidate === 'number') {\n                    candidate = [candidate];\n                } else if (!isArray(candidate)) {\n                    candidate = $(candidate).data('offset-index');\n                    if (candidate === undefined) {\n                        candidate = -1;\n                    }\n                    candidate = [candidate];\n                }\n                return candidate;\n            },\n            _template: function () {\n                var that = this;\n                var options = that.options;\n                var template = options.template;\n                if (!template) {\n                    template = kendo.template('<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\">${' + kendo.expr(options.dataTextField, 'data') + '}</li>', { useWithBlock: false });\n                } else {\n                    template = kendo.template(template);\n                    template = function (data) {\n                        return '<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\">' + template(data) + '</li>';\n                    };\n                }\n                return template;\n            },\n            _templates: function () {\n                var template;\n                var templates = {\n                    template: this.options.template,\n                    groupTemplate: this.options.groupTemplate,\n                    fixedGroupTemplate: this.options.fixedGroupTemplate\n                };\n                for (var key in templates) {\n                    template = templates[key];\n                    if (template && typeof template !== 'function') {\n                        templates[key] = kendo.template(template);\n                    }\n                }\n                this.templates = templates;\n            },\n            _normalizeIndices: function (indices) {\n                var newIndices = [];\n                var idx = 0;\n                for (; idx < indices.length; idx++) {\n                    if (indices[idx] !== undefined) {\n                        newIndices.push(indices[idx]);\n                    }\n                }\n                return newIndices;\n            },\n            _valueIndices: function (values, indices) {\n                var data = this._view;\n                var idx = 0;\n                var index;\n                indices = indices ? indices.slice() : [];\n                if (!values.length) {\n                    return [];\n                }\n                for (; idx < data.length; idx++) {\n                    index = this._dataItemPosition(data[idx].item, values);\n                    if (index !== -1) {\n                        indices[index] = idx;\n                    }\n                }\n                return this._normalizeIndices(indices);\n            },\n            _firstVisibleItem: function () {\n                var element = this.element[0];\n                var content = this.content[0];\n                var scrollTop = content.scrollTop;\n                var itemHeight = $(element.children[0]).height();\n                var itemIndex = Math.floor(scrollTop / itemHeight) || 0;\n                var item = element.children[itemIndex] || element.lastChild;\n                var forward = item.offsetTop < scrollTop;\n                while (item) {\n                    if (forward) {\n                        if (item.offsetTop + itemHeight > scrollTop || !item.nextSibling) {\n                            break;\n                        }\n                        item = item.nextSibling;\n                    } else {\n                        if (item.offsetTop <= scrollTop || !item.previousSibling) {\n                            break;\n                        }\n                        item = item.previousSibling;\n                    }\n                }\n                return this._view[$(item).data('offset-index')];\n            },\n            _fixedHeader: function () {\n                if (this.isGrouped() && this.templates.fixedGroupTemplate) {\n                    this.header.show();\n                    this.content.scroll(this._onScroll);\n                } else {\n                    this.header.hide();\n                    this.content.off('scroll', this._onScroll);\n                }\n            },\n            _renderHeader: function () {\n                var template = this.templates.fixedGroupTemplate;\n                if (!template) {\n                    return;\n                }\n                var visibleItem = this._firstVisibleItem();\n                if (visibleItem) {\n                    this.header.html(template(visibleItem.group));\n                }\n            },\n            _renderItem: function (context) {\n                var item = '<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item';\n                var dataItem = context.item;\n                var notFirstItem = context.index !== 0;\n                var selected = context.selected;\n                if (notFirstItem && context.newGroup) {\n                    item += ' k-first';\n                }\n                if (selected) {\n                    item += ' k-state-selected';\n                }\n                item += '\"' + (selected ? ' aria-selected=\"true\"' : '') + ' data-offset-index=\"' + context.index + '\">';\n                item += this.templates.template(dataItem);\n                if (notFirstItem && context.newGroup) {\n                    item += '<div class=\"k-group\">' + this.templates.groupTemplate(context.group) + '</div>';\n                }\n                return item + '</li>';\n            },\n            _render: function () {\n                var html = '';\n                var i = 0;\n                var idx = 0;\n                var context;\n                var dataContext = [];\n                var view = this.dataSource.view();\n                var values = this.value();\n                var group, newGroup, j;\n                var isGrouped = this.isGrouped();\n                if (isGrouped) {\n                    for (i = 0; i < view.length; i++) {\n                        group = view[i];\n                        newGroup = true;\n                        for (j = 0; j < group.items.length; j++) {\n                            context = {\n                                selected: this._selected(group.items[j], values),\n                                item: group.items[j],\n                                group: group.value,\n                                newGroup: newGroup,\n                                index: idx\n                            };\n                            dataContext[idx] = context;\n                            idx += 1;\n                            html += this._renderItem(context);\n                            newGroup = false;\n                        }\n                    }\n                } else {\n                    for (i = 0; i < view.length; i++) {\n                        context = {\n                            selected: this._selected(view[i], values),\n                            item: view[i],\n                            index: i\n                        };\n                        dataContext[i] = context;\n                        html += this._renderItem(context);\n                    }\n                }\n                this._view = dataContext;\n                this.element[0].innerHTML = html;\n                if (isGrouped && dataContext.length) {\n                    this._renderHeader();\n                }\n            },\n            _selected: function (dataItem, values) {\n                var select = !this.isFiltered() || this.options.selectable === 'multiple';\n                return select && this._dataItemPosition(dataItem, values) !== -1;\n            },\n            setDSFilter: function (filter) {\n                this._lastDSFilter = extend({}, filter);\n            },\n            isFiltered: function () {\n                if (!this._lastDSFilter) {\n                    this.setDSFilter(this.dataSource.filter());\n                }\n                return !kendo.data.Query.compareFilters(this.dataSource.filter(), this._lastDSFilter);\n            },\n            refresh: function (e) {\n                var that = this;\n                var action = e && e.action;\n                var skipUpdateOnBind = that.options.skipUpdateOnBind;\n                var isItemChange = action === 'itemchange';\n                var result;\n                that.trigger('dataBinding');\n                this._angularItems('cleanup');\n                that._fixedHeader();\n                that._render();\n                that.bound(true);\n                if (isItemChange || action === 'remove') {\n                    result = mapChangedItems(that._dataItems, e.items);\n                    if (result.changed.length) {\n                        if (isItemChange) {\n                            that.trigger('selectedItemChange', { items: result.changed });\n                        } else {\n                            that.value(that._getValues(result.unchanged));\n                        }\n                    }\n                } else if (that.isFiltered() || that._skipUpdate) {\n                    that.focus(0);\n                    if (that._skipUpdate) {\n                        that._skipUpdate = false;\n                        that._selectedIndices = that._valueIndices(that._values, that._selectedIndices);\n                    }\n                } else if (!skipUpdateOnBind && (!action || action === 'add')) {\n                    that.value(that._values);\n                }\n                if (that._valueDeferred) {\n                    that._valueDeferred.resolve();\n                }\n                that._angularItems('compile');\n                that.trigger('dataBound');\n            },\n            bound: function (bound) {\n                if (bound === undefined) {\n                    return this._bound;\n                }\n                this._bound = bound;\n            },\n            isGrouped: function () {\n                return (this.dataSource.group() || []).length;\n            }\n        });\n        ui.plugin(StaticList);\n        function mapChangedItems(selected, itemsToMatch) {\n            var itemsLength = itemsToMatch.length;\n            var selectedLength = selected.length;\n            var dataItem;\n            var found;\n            var i, j;\n            var changed = [];\n            var unchanged = [];\n            if (selectedLength) {\n                for (i = 0; i < selectedLength; i++) {\n                    dataItem = selected[i];\n                    found = false;\n                    for (j = 0; j < itemsLength; j++) {\n                        if (dataItem === itemsToMatch[j]) {\n                            found = true;\n                            changed.push({\n                                index: i,\n                                item: dataItem\n                            });\n                            break;\n                        }\n                    }\n                    if (!found) {\n                        unchanged.push(dataItem);\n                    }\n                }\n            }\n            return {\n                changed: changed,\n                unchanged: unchanged\n            };\n        }\n        function removeFiltersForField(expression, field) {\n            var filters;\n            var found = false;\n            if (expression.filters) {\n                filters = $.grep(expression.filters, function (filter) {\n                    found = removeFiltersForField(filter, field);\n                    if (filter.filters) {\n                        return filter.filters.length;\n                    } else {\n                        return filter.field != field;\n                    }\n                });\n                if (!found && expression.filters.length !== filters.length) {\n                    found = true;\n                }\n                expression.filters = filters;\n            }\n            return found;\n        }\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}